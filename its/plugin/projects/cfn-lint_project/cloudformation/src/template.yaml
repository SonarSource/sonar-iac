AWSTemplateFormatVersion: "2010-09-09"

Parameters:
  Environment:
    Type: String
    Default: Test
    Description: Environment
    AllowedValues:
      - Dev
      - Test
  TestEnvironment:
    Type: String
    Default: String
    Description: Another Environment
    AllowedValues:
      - Dev
      - Test
      - Prod
  UnusedParam:
    Type: String
    Default: 1
    Description: Unused Param

Resources:
  untaggedInstance:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: ami-123456
  myInstance:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: ami-123456
      Tags:
        -
          Key: environment
          Value: !Ref Environment
        -
          Key: environment
          Value: !Ref TestEnvironment

